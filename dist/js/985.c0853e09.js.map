{"version":3,"file":"js/985.c0853e09.js","mappings":"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","sources":["webpack://musicplayer/./src/views/Login/index.vue?7a17","webpack://musicplayer/src/views/Login/index.vue","webpack://musicplayer/./src/views/Login/index.vue?93c6","webpack://musicplayer/./src/views/Login/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"outer-wapper\"}},[_c('div',{staticClass:\"video-box\"},[_c('video',{staticClass:\"video-background\",attrs:{\"src\":require(\"./audio/fish.mp4\"),\"preload\":\"auto\",\"loop\":\"\",\"playsinline\":\"\",\"autoplay\":\"\",\"muted\":\"\"},domProps:{\"muted\":true}}),_c('div',{attrs:{\"id\":\"login-wapper\"}},[_c('div',{attrs:{\"id\":\"login\"}},[_c('el-form',{staticStyle:{\"width\":\"'50%'\"},attrs:{\"size\":\"normal\"}},[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"show-password\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.handlerLogin}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.handlerOther}},[_vm._v(\"其他方式登录\")])],1),_c('el-dialog',{attrs:{\"title\":\"其他方式登录\",\"width\":\"500px\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"手机号\",\"label-width\":\"100px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.diaLogInfo.iphone),callback:function ($$v) {_vm.$set(_vm.diaLogInfo, \"iphone\", $$v)},expression:\"diaLogInfo.iphone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"验证码登录\",\"label-width\":\"100px\"}},[_c('el-input',{staticStyle:{\"width\":\"100px\"},attrs:{\"autocomplete\":\"off\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.diaLogInfo.visibleNum),callback:function ($$v) {_vm.$set(_vm.diaLogInfo, \"visibleNum\", $$v)},expression:\"diaLogInfo.visibleNum\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"default\",\"disabled\":_vm.diaLogInfo.diaLogInputDisabled},on:{\"click\":_vm.handlerSendPhoneVerify}},[_vm._v(_vm._s(_vm.diaLogInfo.markedWords))])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlerOk}},[_vm._v(\"登 录\")])],1)],1)],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"outer-wapper\">\r\n    <!--设置视频为背景 -->\r\n    <div class=\"video-box\">\r\n      <video\r\n        src=\"./audio/fish.mp4\"\r\n        class=\"video-background\"\r\n        preload=\"auto\"\r\n        loop\r\n        playsinline\r\n        autoplay\r\n        muted\r\n      ></video>\r\n      <!-- 表单登录 -->\r\n      <div id=\"login-wapper\">\r\n        <div id=\"login\">\r\n          <!-- 登录的表单 -->\r\n          <el-form size=\"normal\" style=\"width: '50%'\">\r\n            <el-form-item label=\"手机号\" label-width=\"80px\">\r\n              <el-input v-model=\"phone\" placeholder=\"请输入手机号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"密码\" label-width=\"80px\">\r\n              <el-input\r\n                placeholder=\"请输入密码\"\r\n                v-model=\"password\"\r\n                show-password\r\n              ></el-input>\r\n            </el-form-item>\r\n\r\n            <el-button type=\"primary\" round size=\"medium\" @click=\"handlerLogin\"\r\n              >登录</el-button\r\n            >\r\n\r\n            <!-- 点击其他方式登录弹出对话框 -->\r\n            <el-button type=\"success\" round size=\"medium\" @click=\"handlerOther\"\r\n              >其他方式登录</el-button\r\n            >\r\n          </el-form>\r\n\r\n          <!-- 对话框组件 -->\r\n          <el-dialog\r\n            title=\"其他方式登录\"\r\n            width=\"500px\"\r\n            :visible.sync=\"dialogFormVisible\"\r\n          >\r\n            <el-form>\r\n              <el-form-item label=\"手机号\" label-width=\"100px\">\r\n                <el-input\r\n                  autocomplete=\"off\"\r\n                  v-model=\"diaLogInfo.iphone\"\r\n                  placeholder=\"请输入手机号\"\r\n                ></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"验证码登录\" label-width=\"100px\">\r\n                <el-input\r\n                  style=\"width: 100px\"\r\n                  autocomplete=\"off\"\r\n                  placeholder=\"请输入验证码\"\r\n                  v-model=\"diaLogInfo.visibleNum\"\r\n                ></el-input>\r\n\r\n                <el-button\r\n                  type=\"primary\"\r\n                  size=\"default\"\r\n                  @click=\"handlerSendPhoneVerify\"\r\n                  :disabled=\"diaLogInfo.diaLogInputDisabled\"\r\n                  >{{ diaLogInfo.markedWords }}</el-button\r\n                >\r\n              </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n              <el-button type=\"primary\" @click=\"handlerOk\">登 录</el-button>\r\n            </div>\r\n          </el-dialog>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reqLogin, reqSendPhoneVerify,reqCaptchaIsOk} from \"@/api\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      phone: \"\",\r\n      password: \"\",\r\n      // 控制对话框是否隐藏\r\n      dialogFormVisible: false,\r\n      // 对话框的信息\r\n      diaLogInfo: {\r\n        iphone: \"\",\r\n        visibleNum: \"\",\r\n        markedWords: \"点击获取验证码\",\r\n        diaLogInputDisabled: false,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async handlerLogin() {\r\n      const { phone, password } = this;\r\n      // 手机和密码登录\r\n      if (phone && password) {\r\n        let result = await reqLogin(phone, password);\r\n        if (result.code === 200) {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"登录成功\",\r\n          });\r\n          console.log(result);\r\n        } else {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"登录失败\",\r\n          });\r\n        }\r\n      } else {\r\n        this.$message({\r\n          type: \"warning\",\r\n          message: \"请输入密码或手机号\",\r\n        });\r\n      }\r\n    },\r\n    // 其他登录方式\r\n    handlerOther() {\r\n      this.dialogFormVisible = true;\r\n    },\r\n    // 点击对话框登录按钮的回调\r\n    async handlerOk() {\r\n      // 验证验证码是否正确\r\n      const {iphone,visibleNum} = this.diaLogInfo;\r\n      if(iphone && visibleNum){\r\n        let result = await reqCaptchaIsOk(iphone,visibleNum);\r\n        if(result.code === 200){\r\n          console.log(result)\r\n        }else{\r\n          this.$message({\r\n            type:\"warning\",\r\n            title:'验证码或手机号错误'\r\n          })\r\n        }\r\n      }else{\r\n        this.$notify({\r\n          title:'请输入手机号和验证码',\r\n          type:'warning',\r\n          position:\"top-left\",\r\n          showClose:false,\r\n        })\r\n      }\r\n    },\r\n    // 点击获取手机验证码的回调\r\n    async handlerSendPhoneVerify() {\r\n      if (this.diaLogInfo.iphone.trim()) {\r\n        let result = await reqSendPhoneVerify(this.diaLogInfo.iphone);\r\n        if (result.code === 200) {\r\n          // 发送成功，开始计时器,验证码60s之后重新发送\r\n          let maxNum = 60;\r\n          let timeId = setInterval(() => {\r\n            this.diaLogInfo.diaLogInputDisabled = true;\r\n            let countNum = maxNum--;\r\n            this.diaLogInfo.markedWords = `${countNum}s后获取`;\r\n            if (countNum === 0) {\r\n              clearInterval(timeId);\r\n              this.diaLogInfo.markedWords = \"点击获取验证码\";\r\n              this.diaLogInfo.diaLogInputDisabled = false;\r\n            }\r\n          }, 1000);\r\n        } else {\r\n          this.$notify({\r\n            title: result.message,\r\n            type: \"warning\",\r\n            position: \"top-right\",\r\n            showClose: false,\r\n          });\r\n        }\r\n      } else {\r\n        this.$notify({\r\n          title: \"请输入手机号\",\r\n          type: \"warning\",\r\n          position: \"bottom-left\",\r\n          // 是否显示关闭按钮\r\n          showClose: false,\r\n        });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n#outer-wapper {\r\n  height: 500px;\r\n  .video-box {\r\n    position: relative;\r\n    height: 100vh;\r\n    background-color: #c1cff7;\r\n    position: relative;\r\n    /*进行视频裁剪*/\r\n    overflow: hidden;\r\n    #login-wapper {\r\n      position: absolute;\r\n      left: 35%;\r\n      top: 40%;\r\n      #login {\r\n        form {\r\n          button {\r\n            width: 200px;\r\n            margin-left: 60px;\r\n            font-size: 20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .video-box .video-background {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    /*保证视频内容始终居中*/\r\n    transform: translate(-50%, -50%);\r\n    width: 100%;\r\n    height: 100%;\r\n    /*保证视频充满屏幕*/\r\n    object-fit: cover;\r\n    min-height: 800px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0e752143&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0e752143&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e752143\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","domProps","staticStyle","model","value","callback","$$v","phone","expression","password","on","handlerLogin","_v","handlerOther","dialogFormVisible","$event","diaLogInfo","$set","diaLogInputDisabled","handlerSendPhoneVerify","_s","markedWords","slot","handlerOk","staticRenderFns","name","data","iphone","visibleNum","methods","type","message","console","title","position","showClose","clearInterval","component"],"sourceRoot":""}